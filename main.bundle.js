(()=>{"use strict";const e={development:{recipesPath:"/assets/recipes",imagePath:"/assets/images"},production:{recipesPath:"/recipe_viewer/assets/recipes",imagePath:"/recipe_viewer/assets/images"}}["undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname?"development":"production"];console.log("Recipe Data configuration:",e);let i=null;const t={development:{imagePath:"/assets/images"},production:{imagePath:"/recipe_viewer/assets/images"}}["undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname?"development":"production"];class n{constructor(){this.recipeGrid=document.getElementById("recipe-grid"),this.listRecipesBtn=document.getElementById("list-recipes-btn"),this.recipeIndex=null,this.initialize()}initialize(){this.loadRecipeList(),this.listRecipesBtn&&this.listRecipesBtn.addEventListener("click",(()=>{this.loadRecipeList()}))}async loadRecipeList(){console.log("Loading recipe list...");try{this.recipeGrid.innerHTML="";const t=await async function(){try{return await async function(){if(i)return i;try{const t=await fetch(`${e.recipesPath}/index.json`);if(!t.ok)throw new Error(`Failed to load recipe index: ${t.status} ${t.statusText}`);const n=await t.json();return i=n,n}catch(e){throw console.error("Error loading recipe index:",e),e}}()}catch(e){throw console.error("Error loading recipe list:",e),e}}();this.recipeIndex=t,this.displayRecipes(t.recipes)}catch(e){console.error("Error loading recipes:",e),this.displayError(e)}}displayRecipes(e){e&&0!==e.length?(console.log(`Displaying ${e.length} recipes`),e.forEach((e=>{const i=this.createRecipeCard(e);this.recipeGrid.appendChild(i)}))):this.displayEmptyState()}createRecipeCard(e){console.log(`Creating card for recipe: ${e.title}`);const i=document.createElement("div");i.className="recipe-card",i.setAttribute("data-recipe-id",e.id);const n=`${t.imagePath}/${e.thumbnail.replace(/^images\//,"")}`,s=`${t.imagePath}/placeholder.jpg`;return i.innerHTML=`\n            <img src="${n}" alt="${e.title}" class="recipe-thumbnail" \n                 onerror="this.src='${s}'">\n            <div class="recipe-info">\n                <h2 class="recipe-title">${e.title}</h2>\n                <div class="recipe-meta">\n                    <span>${e.time?`${e.time}`:""} ${e.difficulty?`â€¢ ${e.difficulty}`:""}</span>\n                </div>\n                ${e.description?`<p class="recipe-description">${e.description}</p>`:""}\n            </div>\n        `,i.addEventListener("click",(()=>{window.location.href=`recipe-summary.html?id=${e.id}`})),i}displayEmptyState(){this.recipeGrid.innerHTML='\n            <div class="message empty-state">\n                <h2>No Recipes Found</h2>\n                <p>Your recipe collection is empty.</p>\n                <button onclick="window.location.reload()" class="btn refresh">Refresh Page</button>\n            </div>\n        '}displayError(e){this.recipeGrid.innerHTML=`\n            <div class="error-message">\n                <h2>Oops! Something went wrong</h2>\n                <p>We couldn't load the recipes. Please try again later.</p>\n                <p class="error-details">Error: ${e.message}</p>\n                <button onclick="window.location.reload()" class="btn retry">Try Again</button>\n            </div>\n        `}}document.addEventListener("DOMContentLoaded",(()=>{new n})),document.addEventListener("DOMContentLoaded",(()=>{console.log("Recipe Viewer application initialized"),new n}))})();